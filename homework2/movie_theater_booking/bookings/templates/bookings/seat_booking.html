{% extends 'bookings/base.html' %}

{% block title %} Book a Seat {% endblock %}

{% block content %}
<div class="row justify-content-center">
    <div class="col-md-6">
        <div class="card shadow border-0 rounded-3 mt-4">
            <div class="card-header bg-primary text-white text-center py-3">
                <h4 class="mb-0">Book Ticket: {{ movie.title }}</h4>
            </div>
            <div class="card-body p-4">
                <form method="POST">
                    {% csrf_token %}
                    <div class="mb-4">
                        <label for="seat" class="form-label fw-bold">Select an Available Seat</label>
                        <select name="seat" id="seat" class="form-select form-select-lg" required>
                            <option value="" disabled selected>-- Choose a seat --</option>
                            {% for seat in seats %}
                                <option value="{{ seat.id }}">Seat {{ seat.seat_number }}</option>
                            {% empty %}
                                <option value="" disabled>No seats available for this movie!</option>
                            {% endfor %}
                        </select>
                    </div>
                    <div class="d-grid gap-2">
                        <button type="submit" class="btn btn-success btn-lg rounded-pill fw-bold">Confirm Booking</button>
                        <a href="{% url 'movie_list' %}" class="btn btn-outline-secondary rounded-pill">Cancel</a>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>
{% endblock %}